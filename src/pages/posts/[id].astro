---
import Layout from "../../layouts/Layout.astro";
import Post from "../../components/Post.astro";
import {getCollection} from "astro:content";

export async function getStaticPaths() {
    const allPosts = await getCollection('blog');

    return allPosts.map(post => {
        return {
            params: { id: post.id },
        };
    })
}

const { id } = Astro.params;
---
<Layout>
    <Post id={id} />
</Layout>